<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    ========================================
    COPYRIGHT AND LICENSING INFORMATION
    ========================================
    
    ¬© 2024 LuxeGlow E-commerce Demo Website
    Owned by: dacsoapp.com
    Website: www.dacsoapp.com
    
    IMPORTANT LEGAL NOTICE:
    This is a demonstration website created for presentation and portfolio purposes only.
    All content, design, code, and functionality are proprietary and protected by copyright.
    
    PERMITTED USE:
    - Viewing and demonstration purposes
    - Portfolio presentation
    - Educational reference (with proper attribution)
    
    PROHIBITED USE:
    - Commercial reproduction or distribution
    - Copying code, design, or content without explicit permission
    - Using as a template for commercial projects
    - Reselling or redistributing in any form
    
    For licensing inquiries or commercial use permissions, contact:
    Email: info@dacsoapp.com
    Website: www.dacsoapp.com
    
    This notice must remain intact in all copies and derivatives.
    ========================================
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://your-portfolio.example https://*.your-company.com">
    <title id="page-title">Checkout - LuxeGlow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fallback Font Awesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" crossorigin="anonymous">
    <link rel="stylesheet" href="css/rtl-support.css">
    <script src="js/protection.js"></script>
    <script src="translations.js"></script>
    <script src="language-switcher.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'montserrat': ['Montserrat', 'sans-serif'],
                    },
                    colors: {
                        'luxe-amber': '#92400e',
                        'luxe-stone': '#292524',
                        'sage': {
                            50: '#f0f9f0',
                            100: '#dcf2dc',
                            200: '#bce5bc',
                            300: '#8dd18d',
                            400: '#5bb85b',
                            500: '#3a9d3a',
                            600: '#2d7d2d',
                            700: '#256325',
                            800: '#225022',
                            900: '#1f421f',
                        },
                        'blush': {
                            50: '#fef7f7',
                            100: '#fdeaea',
                            200: '#fbd5d5',
                            300: '#f7b3b3',
                            400: '#f08888',
                            500: '#e85d5d',
                            600: '#d63f3f',
                            700: '#b32e2e',
                            800: '#942828',
                            900: '#7a2525',
                        },
                        'warm': {
                            50: '#fafaf9',
                            100: '#f5f5f4',
                            200: '#e7e5e4',
                            300: '#d6d3d1',
                            400: '#a8a29e',
                            500: '#78716c',
                            600: '#57534e',
                            700: '#44403c',
                            800: '#292524',
                            900: '#1c1917',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Montserrat', sans-serif; }
        .cart-badge { animation: pulse 0.5s ease-in-out; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .form-input:focus { border-color: #92400e; box-shadow: 0 0 0 3px rgba(146, 64, 14, 0.1); }
        .step-active { background-color: #92400e; color: white; }
        .step-completed { background-color: #10b981; color: white; }
        .payment-method { transition: all 0.3s ease; }
        .payment-method:hover { border-color: #92400e; }
        .payment-method.selected { border-color: #92400e; background-color: #fef3c7; }
        
        /* Notification System */
        .notification { 
            opacity: 0;
            transform: translateX(100%); 
            transition: all 0.3s ease; 
        }
        .notification.show { 
            opacity: 1;
            transform: translateX(0); 
        }
    </style>
    
    <!-- Immediate Language Detection Script - Prevents FOUC -->
    <script>
        (function() {
            // Get saved language immediately
            const savedLang = localStorage.getItem('selectedLanguage') || 'en';
            
            // Set initial HTML attributes immediately
            document.documentElement.lang = savedLang;
            document.documentElement.dir = savedLang === 'ar' ? 'rtl' : 'ltr';
            
            // Add body classes for styling
            document.documentElement.classList.add('initial-lang-' + savedLang);
            
            // Hide content initially if Arabic to prevent flash
            if (savedLang === 'ar') {
                document.documentElement.style.opacity = '0';
                document.documentElement.style.transition = 'opacity 0.2s ease';
            }
        })();
    </script>
</head>
<body class="bg-stone-50 text-stone-800">
    <!-- Demo Warning Banner -->
    <div class="bg-amber-100 border-b border-amber-200 text-amber-800 text-center py-2 text-sm font-medium">
        <span class="en-content">‚ö†Ô∏è This is a demo website owned by <a href="https://www.dacsoapp.com" target="_blank" class="underline hover:text-amber-900">dacsoapp.com</a> - For presentation purposes only</span>
        <span class="ar-content">‚ö†Ô∏è Ÿáÿ∞ÿß ŸÖŸàŸÇÿπ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä ŸÖŸÖŸÑŸàŸÉ ŸÑŸÄ <a href="https://www.dacsoapp.com" target="_blank" class="underline hover:text-amber-900">dacsoapp.com</a> - ŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿπÿ±ÿ∂ ŸÅŸÇÿ∑</span>
    </div>
    <!-- Promo Banner -->
    <div class="bg-luxe-amber text-white text-center py-2 text-sm font-medium">
        <span class="en-content">‚ú® Free Shipping on Orders Over ¬£100</span>
        <span class="ar-content">‚ú® ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä ŸÑŸÑÿ∑ŸÑÿ®ÿßÿ™ ŸÅŸàŸÇ 100 ÿ¨ŸÜŸäŸá ÿ•ÿ≥ÿ™ÿ±ŸÑŸäŸÜŸä</span>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-luxe-amber">LuxeGlow</a>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_home">Home</a>
                    <a href="shop.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_shop">Shop</a>
                    <a href="about.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_about">About</a>
                    <a href="contact.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_contact">Contact</a>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden text-luxe-stone hover:text-luxe-amber transition-colors">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    
                    <!-- Search -->
                    <div class="relative">
                        <button onclick="toggleSearch()" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                            <i class="fas fa-search text-lg"></i>
                        </button>
                        <div id="search-overlay" class="fixed inset-0 bg-black/50 z-50 hidden search-overlay">
                            <div class="flex items-center justify-center min-h-screen p-4">
                                <div class="bg-white rounded-xl p-6 w-full max-w-2xl">
                                    <div class="flex items-center space-x-4">
                                        <input type="text" id="search-input" placeholder="Search products..." data-translate-key="search_placeholder" class="flex-1 px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-luxe-amber focus:outline-none" onkeyup="searchProducts(event)">
                                        <button onclick="toggleSearch()" class="text-stone-400 hover:text-stone-600">
                                            <i class="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                    <div id="search-results" class="mt-4 max-h-64 overflow-y-auto">
                                        <!-- Search results will appear here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Language Toggle -->
                    <button id="lang-toggle-btn" class="text-luxe-stone hover:text-luxe-amber transition-colors flex items-center space-x-2 px-3 py-2 rounded-lg border border-stone-200 hover:border-luxe-amber">
                        <i class="fas fa-globe text-lg"></i>
                        <span id="current-lang" class="text-sm font-medium">AR</span>
                    </button>
                    
                    <!-- Wishlist -->
                    <button class="text-luxe-stone hover:text-luxe-amber transition-colors relative" onclick="toggleWishlist()">
                        <i class="fas fa-heart text-lg"></i>
                        <span id="wishlist-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-badge hidden">0</span>
                    </button>
                    
                    <!-- Cart -->
                    <button class="text-luxe-stone hover:text-luxe-amber transition-colors relative" onclick="toggleCart()">
                        <i class="fas fa-shopping-bag text-lg"></i>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-luxe-amber text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-badge hidden">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-white z-50 transform -translate-x-full transition-transform duration-300 md:hidden">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-luxe-amber" data-translate-key="mobile_menu_title">Menu</h2>
                <button id="mobile-menu-close" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <nav class="space-y-6">
                <a href="index.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_home">Home</a>
                <a href="shop.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_shop">Shop</a>
                <a href="about.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_about">About</a>
                <a href="contact.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_contact">Contact</a>
            </nav>
        </div>
    </div>

    <!-- Checkout Progress -->
    <section class="py-6 bg-white border-b">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-center space-x-8">
                <div class="flex items-center">
                    <div class="step-completed w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold">
                        <i class="fas fa-check"></i>
                    </div>
                    <span class="ml-2 text-sm font-medium text-green-600" data-translate-key="nav_cart">Cart</span>
                </div>
                <div class="flex-1 h-0.5 bg-green-600"></div>
                <div class="flex items-center">
                    <div class="step-active w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold">2</div>
                    <span class="ml-2 text-sm font-medium text-luxe-amber" data-translate-key="checkout_step">Checkout</span>
                </div>
                <div class="flex-1 h-0.5 bg-stone-200"></div>
                <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-stone-200 flex items-center justify-center text-sm font-semibold text-stone-500">3</div>
                    <span class="ml-2 text-sm font-medium text-stone-500" data-translate-key="confirmation_step">Confirmation</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Page Header -->
    <section class="py-8 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-3xl font-bold text-luxe-stone mb-4" data-translate-key="checkout_title">Secure Checkout</h1>
                <p class="text-stone-600" data-translate-key="checkout_subtitle">Complete your order with confidence</p>
            </div>
        </div>
    </section>

    <!-- Checkout Form -->
    <section class="py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <form id="checkout-form" onsubmit="processOrder(event)">
                <div class="grid lg:grid-cols-3 gap-8">
                    <!-- Checkout Form -->
                    <div class="lg:col-span-2 space-y-8">
                        <!-- Shipping Information -->
                        <div class="bg-white rounded-xl shadow-lg p-6 checkout-form">
                            <h2 class="text-xl font-bold mb-6 flex items-center">
                                <i class="fas fa-shipping-fast text-luxe-amber mr-3"></i>
                                <span data-translate-key="shipping_info_title">Shipping Information</span>
                            </h2>
                            
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="form_firstname">First Name *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="Enter your first name">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="form_lastname">Last Name *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="Enter your last name">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="form_email">Email Address *</label>
                                <input type="email" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="your.email@example.com">
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_phone">Phone Number *</label>
                                <input type="tel" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="+44 20 7123 4567" data-translate-key="checkout_phone_placeholder">
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_address">Address *</label>
                                <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="123 Main Street" data-translate-key="checkout_address_placeholder">
                            </div>
                            
                            <div class="grid md:grid-cols-3 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_city">City *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="London" data-translate-key="checkout_city_placeholder">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_postal">Postal Code *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="SW1A 1AA" data-translate-key="checkout_postal_placeholder">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_country">Country *</label>
                                    <select required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none">
                                        <option value="" data-translate-key="checkout_country_select">Select Country</option>
                                        <option value="UK" selected data-translate-key="checkout_country_uk">United Kingdom</option>
                                        <option value="US" data-translate-key="checkout_country_us">United States</option>
                                        <option value="CA" data-translate-key="checkout_country_ca">Canada</option>
                                        <option value="AU" data-translate-key="checkout_country_au">Australia</option>
                                        <option value="DE" data-translate-key="checkout_country_de">Germany</option>
                                        <option value="FR" data-translate-key="checkout_country_fr">France</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="flex items-center">
                                <input type="checkbox" id="save-address" class="mr-3">
                                <label for="save-address" class="text-sm text-stone-600" data-translate-key="checkout_save_address">Save this address for future orders</label>
                            </div>
                        </div>

                        <!-- Delivery Options -->
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <h2 class="text-xl font-bold mb-6 flex items-center" data-translate-key="checkout_delivery_title">
                                <i class="fas fa-truck text-luxe-amber mr-3"></i>
                                Delivery Options
                            </h2>
                            
                            <div class="space-y-4">
                                <div class="border border-stone-200 rounded-lg p-4 hover:border-luxe-amber transition-colors cursor-pointer delivery-option" onclick="selectDelivery('standard')">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <input type="radio" name="delivery" value="standard" class="mr-3" checked>
                                            <div>
                                                <div class="font-semibold" data-translate-key="checkout_delivery_standard">Standard Delivery</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_delivery_standard_desc">3-5 business days</div>
                                            </div>
                                        </div>
                                        <div class="font-bold text-luxe-amber" data-translate-key="cart_free">FREE</div>
                                    </div>
                                </div>
                                
                                <div class="border border-stone-200 rounded-lg p-4 hover:border-luxe-amber transition-colors cursor-pointer delivery-option" onclick="selectDelivery('express')">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <input type="radio" name="delivery" value="express" class="mr-3">
                                            <div>
                                                <div class="font-semibold" data-translate-key="checkout_delivery_express">Express Delivery</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_delivery_express_desc">1-2 business days</div>
                                            </div>
                                        </div>
                                        <div class="font-bold text-luxe-amber">¬£9.99</div>
                                    </div>
                                </div>
                                
                                <div class="border border-stone-200 rounded-lg p-4 hover:border-luxe-amber transition-colors cursor-pointer delivery-option" onclick="selectDelivery('next-day')">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <input type="radio" name="delivery" value="next-day" class="mr-3">
                                            <div>
                                                <div class="font-semibold" data-translate-key="checkout_delivery_nextday">Next Day Delivery</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_delivery_nextday_desc">Next business day</div>
                                            </div>
                                        </div>
                                        <div class="font-bold text-luxe-amber">¬£14.99</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Method -->
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <h2 class="text-xl font-bold mb-6 flex items-center" data-translate-key="checkout_payment_title">
                                <i class="fas fa-credit-card text-luxe-amber mr-3"></i>
                                Payment Method
                            </h2>
                            
                            <div class="space-y-4 mb-6">
                                <div class="payment-method border border-stone-200 rounded-lg p-4 cursor-pointer selected" onclick="selectPayment('card')">
                                    <div class="flex items-center">
                                        <input type="radio" name="payment" value="card" class="mr-3" checked>
                                        <div class="flex items-center space-x-3">
                                            <i class="fas fa-credit-card text-2xl text-luxe-amber"></i>
                                            <div>
                                                <div class="font-semibold" data-translate-key="checkout_payment_card">Credit/Debit Card</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_payment_card_desc">Visa, MasterCard, American Express</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="payment-method border border-stone-200 rounded-lg p-4 cursor-pointer" onclick="selectPayment('paypal')">
                                    <div class="flex items-center">
                                        <input type="radio" name="payment" value="paypal" class="mr-3">
                                        <div class="flex items-center space-x-3">
                                            <i class="fab fa-paypal text-2xl text-blue-500"></i>
                                            <div>
                                                <div class="font-semibold">PayPal</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_payment_paypal_desc">Pay securely with PayPal</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="payment-method border border-stone-200 rounded-lg p-4 cursor-pointer" onclick="selectPayment('apple')">
                                    <div class="flex items-center">
                                        <input type="radio" name="payment" value="apple" class="mr-3">
                                        <div class="flex items-center space-x-3">
                                            <i class="fab fa-apple-pay text-2xl text-gray-800"></i>
                                            <div>
                                                <div class="font-semibold">Apple Pay</div>
                                                <div class="text-sm text-stone-600" data-translate-key="checkout_payment_apple_desc">Pay with Touch ID or Face ID</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Details -->
                            <div id="card-details" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_card_number">Card Number *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="1234 5678 9012 3456" maxlength="19" data-translate-key="checkout_card_number_placeholder">
                                </div>
                                
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_card_expiry">Expiry Date *</label>
                                        <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="MM/YY" maxlength="5" data-translate-key="checkout_card_expiry_placeholder">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_card_cvv">CVV *</label>
                                        <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="123" maxlength="4" data-translate-key="checkout_card_cvv_placeholder">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-semibold text-stone-700 mb-2" data-translate-key="checkout_card_name">Cardholder Name *</label>
                                    <input type="text" required class="form-input w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none" placeholder="Name on card" data-translate-key="checkout_card_name_placeholder">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                            <h2 class="text-xl font-bold mb-6" data-translate-key="cart_order_summary">Order Summary</h2>
                            
                            <div id="order-items" class="space-y-4 mb-6">
                                <!-- Order items will be populated here -->
                            </div>
                            
                            <div class="space-y-3 mb-6">
                                <div class="flex justify-between">
                                    <span class="text-stone-600" data-translate-key="cart_subtotal">Subtotal</span>
                                    <span class="font-semibold" id="subtotal">¬£0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-stone-600" data-translate-key="cart_shipping">Shipping</span>
                                    <span class="font-semibold" id="shipping" data-translate-key="cart_free">FREE</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-stone-600" data-translate-key="checkout_tax">Tax</span>
                                    <span class="font-semibold" id="tax">¬£0.00</span>
                                </div>
                                <div class="border-t border-stone-200 pt-3">
                                    <div class="flex justify-between text-lg font-bold">
                                        <span data-translate-key="cart_total">Total</span>
                                        <span class="text-luxe-amber" id="total">¬£0.00</span>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="w-full bg-luxe-amber text-white py-4 rounded-lg font-semibold text-lg hover:bg-amber-900 transition-colors mb-4" data-translate-key="checkout_place_order">
                                <i class="fas fa-lock mr-2"></i>Place Order Securely
                            </button>
                            
                            <div class="text-center">
                                <p class="text-stone-500 text-sm mb-3" data-translate-key="checkout_secure_payment">Your payment information is secure and encrypted</p>
                                <div class="flex justify-center space-x-4 opacity-60">
                                    <i class="fas fa-shield-alt text-green-500"></i>
                                    <i class="fas fa-lock text-green-500"></i>
                                    <i class="fas fa-credit-card text-blue-500"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-warm-100 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold text-luxe-amber mb-4">LuxeGlow</h3>
                    <p class="text-stone-600 mb-4">Premium skincare for radiant, healthy skin. Crafted with love and the finest ingredients.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-4" data-translate-key="footer_quick_links">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="shop.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_shop">Shop</a></li>
                        <li><a href="about.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_about">About</a></li>
                        <li><a href="contact.html" class="text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_contact">Contact</a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors" data-translate-key="cart_shipping">Shipping</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4" data-translate-key="footer_customer_care">Customer Care</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">FAQ</a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">Returns</a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">Size Guide</a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">Track Order</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4" data-translate-key="footer_contact_info">Contact Info</h4>
                    <ul class="space-y-2 text-stone-600">
                        <li>üìß hello@luxeglow.com</li>
                        <li>üìû +44 20 7123 4567</li>
                        <li>üìç London, UK</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-stone-200 mt-8 pt-8 text-center text-stone-600">
                <p>&copy; 2024 LuxeGlow. All rights reserved. Demo owned by <a href="https://www.dacsoapp.com" target="_blank" class="text-luxe-amber hover:underline">dacsoapp.com</a></p>
                <p class="text-xs mt-2 text-stone-500">This is a demonstration website for presentation purposes only. Not for commercial reproduction.</p>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-check text-2xl text-green-600"></i>
            </div>
            <h2 class="text-2xl font-bold text-luxe-stone mb-4" data-translate-key="checkout_success_title">Order Placed Successfully!</h2>
            <p class="text-stone-600 mb-6" data-translate-key="checkout_success_message">Thank you for your order. You will receive a confirmation email shortly.</p>
            <button onclick="redirectToConfirmation()" class="bg-luxe-amber text-white px-6 py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors" data-translate-key="checkout_view_order">
                View Order Details
            </button>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold" data-translate-key="cart_title">Shopping Cart</h2>
                <button onclick="toggleCart()" class="text-stone-400 hover:text-stone-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cart-items" class="space-y-4 mb-6">
                <!-- Cart items will be populated here -->
            </div>
            <div class="border-t pt-4">
                <div class="flex justify-between text-lg font-semibold mb-4">
                    <span>Total:</span>
                    <span id="cart-total">¬£0</span>
                </div>
                <a href="cart.html" class="block w-full bg-luxe-amber text-white text-center py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors">
                    View Cart
                </a>
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="toggleCart()"></div>

    <script>
        let selectedDelivery = 'standard';
        let selectedPayment = 'card';

        function renderOrderSummary() {
            const orderItems = document.getElementById('order-items');
            const subtotalEl = document.getElementById('subtotal');
            const shippingEl = document.getElementById('shipping');
            const taxEl = document.getElementById('tax');
            const totalEl = document.getElementById('total');

            const cart = getCart();

            if (cart.length === 0) {
                orderItems.innerHTML = '<p class="text-stone-500 text-center py-8">No items in cart</p>';
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + (Number(item.price) * item.qty), 0);
            const shippingCost = selectedDelivery === 'standard' ? 0 : selectedDelivery === 'express' ? 9.99 : 14.99;
            const tax = subtotal * 0.2; // 20% VAT
            const total = subtotal + shippingCost + tax;

            orderItems.innerHTML = cart.map(item => `
                <div class="flex items-center space-x-3">
                    <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
                    <div class="flex-1">
                        <h4 class="font-medium text-sm">${item.name}</h4>
                        <p class="text-stone-600 text-sm">Qty: ${item.qty}</p>
                    </div>
                    <span class="font-semibold">¬£${(Number(item.price) * item.qty).toFixed(2)}</span>
                </div>
            `).join('');

            subtotalEl.textContent = `¬£${subtotal.toFixed(2)}`;
            shippingEl.textContent = shippingCost === 0 ? 'FREE' : `¬£${shippingCost.toFixed(2)}`;
            taxEl.textContent = `¬£${tax.toFixed(2)}`;
            totalEl.textContent = `¬£${total.toFixed(2)}`;
        }

        function selectDelivery(method) {
            selectedDelivery = method;
            
            // Update radio buttons
            document.querySelectorAll('input[name="delivery"]').forEach(radio => {
                radio.checked = radio.value === method;
            });
            
            // Update visual selection
            document.querySelectorAll('[onclick*="selectDelivery"]').forEach(el => {
                el.classList.remove('border-luxe-amber', 'bg-amber-50');
            });
            event.currentTarget.classList.add('border-luxe-amber', 'bg-amber-50');
            
            renderOrderSummary();
        }

        function selectPayment(method) {
            selectedPayment = method;
            
            // Update radio buttons
            document.querySelectorAll('input[name="payment"]').forEach(radio => {
                radio.checked = radio.value === method;
            });
            
            // Update visual selection
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // Show/hide card details
            const cardDetails = document.getElementById('card-details');
            if (method === 'card') {
                cardDetails.style.display = 'block';
            } else {
                cardDetails.style.display = 'none';
            }
        }

        function processOrder(event) {
            event.preventDefault();
            
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Processing...';
            submitBtn.disabled = true;
            
            // Simulate processing delay
            setTimeout(() => {
                // Show success modal
                document.getElementById('success-modal').classList.remove('hidden');
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 2000);
        }

        function redirectToConfirmation() {
            // Store order data for confirmation page
            const orderData = {
                orderNumber: 'LG' + Date.now(),
                items: cart,
                subtotal: cart.reduce((sum, item) => sum + item.price, 0),
                shipping: selectedDelivery === 'standard' ? 0 : selectedDelivery === 'express' ? 9.99 : 14.99,
                tax: cart.reduce((sum, item) => sum + item.price, 0) * 0.2,
                deliveryMethod: selectedDelivery,
                estimatedDelivery: new Date(Date.now() + (selectedDelivery === 'standard' ? 5 : selectedDelivery === 'express' ? 2 : 1) * 24 * 60 * 60 * 1000)
            };
            
            localStorage.setItem('orderData', JSON.stringify(orderData));
            localStorage.removeItem('cart'); // Clear cart after successful order
            
            window.location.href = 'confirmation.html';
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');

            const cart = getCart();
            const totalItems = cart.reduce((sum, item) => sum + (item.qty || 1), 0);

            if (cartCount) {
                cartCount.textContent = totalItems;
                cartCount.classList.toggle('hidden', totalItems === 0);
            }

            if (cartItems) {
                if (cart.length === 0) {
                    cartItems.innerHTML = '<p class="text-stone-500 text-center py-8" data-translate-key="cart_empty">Your cart is empty</p>';
                    cartTotal.textContent = '¬£0';
                } else {
                    cartItems.innerHTML = cart.map(item => `
                        <div class="flex items-center space-x-3">
                            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
                            <div class="flex-1">
                                <h4 class="font-medium text-sm">${item.name}</h4>
                                <p class="text-stone-600 text-sm">Qty: ${item.qty}</p>
                            </div>
                            <span class="font-semibold text-sm">¬£${(Number(item.price) * item.qty).toFixed(2)}</span>
                        </div>
                    `).join('');

                    const total = cart.reduce((sum, item) => sum + (Number(item.price) * item.qty), 0);
                    cartTotal.textContent = `¬£${total.toFixed(2)}`;
                }
            }
        }

        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            sidebar.classList.toggle('translate-x-full');
            overlay.classList.toggle('hidden');

            // Update cart display when opening the cart
            if (sidebar && !sidebar.classList.contains('translate-x-full')) {
                updateCartDisplay();
                renderOrderSummary();
            }
        }

        function toggleWishlist() {
            const sidebar = document.getElementById('wishlist-sidebar');
            const overlay = document.getElementById('wishlist-overlay');
            sidebar.classList.toggle('translate-x-full');
            overlay.classList.toggle('hidden');
        }

        function toggleSearch() {
            const overlay = document.getElementById('search-overlay');
            overlay.classList.toggle('hidden');
            if (!overlay.classList.contains('hidden')) {
                document.getElementById('search-input').focus();
            }
        }

        function searchProducts(event) {
            const query = event.target.value.toLowerCase();
            const results = document.getElementById('search-results');
            
            if (query.length < 2) {
                results.innerHTML = '';
                return;
            }
            
            // Mock search results - in a real app, this would be an API call
            const mockProducts = [
                { name: 'Vitamin C Serum', price: 45.99, image: 'images/product1.jpg' },
                { name: 'Hyaluronic Acid Moisturizer', price: 32.99, image: 'images/product2.jpg' },
                { name: 'Retinol Night Cream', price: 55.99, image: 'images/product3.jpg' }
            ];
            
            const filteredProducts = mockProducts.filter(product => 
                product.name.toLowerCase().includes(query)
            );
            
            if (filteredProducts.length === 0) {
                results.innerHTML = '<p class="text-stone-500 text-center py-4">No products found</p>';
            } else {
                results.innerHTML = filteredProducts.map(product => `
                    <div class="flex items-center space-x-3 p-3 hover:bg-stone-50 rounded-lg cursor-pointer" onclick="window.location.href='product.html'">
                        <img src="${product.image}" alt="${product.name}" class="w-12 h-12 object-cover rounded">
                        <div class="flex-1">
                            <h4 class="font-medium">${product.name}</h4>
                            <p class="text-stone-600">¬£${product.price}</p>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuClose = document.getElementById('mobile-menu-close');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.remove('-translate-x-full');
                });
            }
            
            if (mobileMenuClose) {
                mobileMenuClose.addEventListener('click', function() {
                    mobileMenu.classList.add('-translate-x-full');
                });
            }
        });

        // Format card number input
        document.addEventListener('DOMContentLoaded', function() {
            const cardNumberInput = document.querySelector('input[placeholder="1234 5678 9012 3456"]');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                    let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                    e.target.value = formattedValue;
                });
            }

            const expiryInput = document.querySelector('input[placeholder="MM/YY"]');
            if (expiryInput) {
                expiryInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length >= 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2, 4);
                    }
                    e.target.value = value;
                });
            }
        });

    </script>

    <!-- Wishlist Sidebar -->
    <div id="wishlist-sidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold" data-translate-key="wishlist_title">Wishlist</h2>
                <button onclick="toggleWishlist()" class="text-stone-400 hover:text-stone-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="wishlist-items" class="space-y-4 mb-6">
                <!-- Wishlist items will be populated here -->
            </div>
            <div class="border-t border-stone-200 pt-4">
                <button onclick="toggleWishlist()" class="w-full bg-luxe-amber text-white py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors" data-translate-key="continue_shopping">
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold" data-translate-key="cart_title">Shopping Cart</h2>
                <button onclick="toggleCart()" class="text-stone-400 hover:text-stone-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cart-items" class="space-y-4 mb-6">
                <!-- Cart items will be populated here -->
            </div>
            <div class="border-t border-stone-200 pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="font-semibold" data-translate-key="cart_total">Total:</span>
                    <span id="cart-total" class="text-xl font-bold text-luxe-amber">¬£0.00</span>
                </div>
                <button onclick="window.location.href='cart.html'" class="w-full bg-luxe-amber text-white py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors" data-translate-key="view_cart">
                    View Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="toggleCart()"></div>
    <div id="wishlist-overlay" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="toggleWishlist()"></div>
    
    <!-- Notification System -->
    <div id="notification" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 notification" style="opacity: 0; transform: translateX(100%); transition: all 0.3s ease;">
        <div class="flex items-center space-x-2">
            <i class="fas fa-check"></i>
            <span id="notification-text">Item added to cart!</span>
        </div>
    </div>
    
    <!-- Notification Function -->
    <script>
        function showNotification(messageKey) {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notification-text');
            
            // Get current language
            const currentLang = localStorage.getItem('selectedLanguage') || 'en';
            
            // Get translated message with fallback
            let message = messageKey; // Default fallback
            
            // Try to get translation if languageContent is available
            if (typeof languageContent !== 'undefined' && languageContent[currentLang] && languageContent[currentLang][messageKey]) {
                message = languageContent[currentLang][messageKey];
            } else {
                // Fallback to hardcoded English messages if translations not loaded
                const fallbackMessages = {
                    'notification_added_to_cart': 'Item added to cart!',
                    'notification_removed_from_cart': 'Item removed from cart!',
                    'notification_cart_cleared': 'Cart cleared!',
                    'notification_added_to_wishlist': 'Added to wishlist!',
                    'notification_removed_from_wishlist': 'Removed from wishlist!',
                    'notification_item_removed_from_wishlist': 'Item removed from wishlist!',
                    'notification_invalid_email': 'Please enter a valid email address.',
                    'notification_subscribed': 'Thank you for subscribing! You\'ll receive 10% off your first order.',
                    'notification_already_in_wishlist': 'Item already in wishlist!'
                };
                message = fallbackMessages[messageKey] || messageKey;
            }
            
            text.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
    
    <!-- Language Support Scripts -->
    <script src="js/translations.js"></script>
    <script src="js/language-switcher.js"></script>

    <script src="temp_js.js"></script>

    <script>
        // Wait for temp_js.js to load before initializing
        function waitForTempJS() {
            if (typeof getCart === 'function' && typeof getWishlist === 'function') {
                console.log('temp_js.js loaded, initializing checkout...');
                // Force cart and wishlist migration
                if (typeof setCart === 'function' && typeof setWishlist === 'function') {
                    setCart(getCart());
                    setWishlist(getWishlist());
                }

                updateBadges();
                updateCartDisplay();
                renderOrderSummary();

                // Listen for cart changes from other pages
                window.addEventListener('storage', (e) => {
                    if (e.key === 'cart') {
                        updateBadges();
                        updateCartDisplay();
                        renderOrderSummary();
                    }
                });
            } else {
                console.log('Waiting for temp_js.js to load...');
                setTimeout(waitForTempJS, 100);
            }
        }

        // Start waiting for temp_js.js
        document.addEventListener('DOMContentLoaded', waitForTempJS);
    </script>
</body>
</html>
