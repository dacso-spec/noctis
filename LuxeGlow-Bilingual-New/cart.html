<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    ========================================
    COPYRIGHT AND LICENSING INFORMATION
    ========================================
    
    ¬© 2024 LuxeGlow E-commerce Demo Website
    Owned by: dacsoapp.com
    Website: www.dacsoapp.com
    
    IMPORTANT LEGAL NOTICE:
    This is a demonstration website created for presentation and portfolio purposes only.
    All content, design, code, and functionality are proprietary and protected by copyright.
    
    PERMITTED USE:
    - Viewing and demonstration purposes
    - Portfolio presentation
    - Educational reference (with proper attribution)
    
    PROHIBITED USE:
    - Commercial reproduction or distribution
    - Copying code, design, or content without explicit permission
    - Using as a template for commercial projects
    - Reselling or redistributing in any form
    
    For licensing inquiries or commercial use permissions, contact:
    Email: info@dacsoapp.com
    Website: www.dacsoapp.com
    
    This notice must remain intact in all copies and derivatives.
    ========================================
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://your-portfolio.example https://*.your-company.com">
    <title id="page-title">Shopping Cart - LuxeGlow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fallback Font Awesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" crossorigin="anonymous">
    <link rel="stylesheet" href="css/rtl-support.css">
    <script src="js/protection.js"></script>
    <script src="translations.js"></script>
    <script src="language-switcher.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'montserrat': ['Montserrat', 'sans-serif'],
                    },
                    colors: {
                        'luxe-amber': '#92400e',
                        'luxe-stone': '#292524',
                        'sage': {
                            50: '#f0f9f0',
                            100: '#dcf2dc',
                            200: '#bce5bc',
                            300: '#8dd18d',
                            400: '#5bb85b',
                            500: '#3a9d3a',
                            600: '#2d7d2d',
                            700: '#256325',
                            800: '#225022',
                            900: '#1f421f',
                        },
                        'blush': {
                            50: '#fef7f7',
                            100: '#fdeaea',
                            200: '#fbd5d5',
                            300: '#f7b3b3',
                            400: '#f08888',
                            500: '#e85d5d',
                            600: '#d63f3f',
                            700: '#b32e2e',
                            800: '#942828',
                            900: '#7a2525',
                        },
                        'warm': {
                            50: '#fafaf9',
                            100: '#f5f5f4',
                            200: '#e7e5e4',
                            300: '#d6d3d1',
                            400: '#a8a29e',
                            500: '#78716c',
                            600: '#57534e',
                            700: '#44403c',
                            800: '#292524',
                            900: '#1c1917',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Montserrat', sans-serif; }
        .cart-badge { animation: pulse 0.5s ease-in-out; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .quantity-btn { transition: all 0.2s ease; }
        .quantity-btn:hover { background-color: #f3f4f6; }
        .quantity-btn:active { transform: scale(0.95); }
        
        /* Notification System */
        .notification { 
            opacity: 0;
            transform: translateX(100%); 
            transition: all 0.3s ease; 
        }
        .notification.show { 
            opacity: 1;
            transform: translateX(0); 
        }
    </style>
    
    <!-- Immediate Language Detection Script - Prevents FOUC -->
    <script>
        (function() {
            // Get saved language immediately
            const savedLang = localStorage.getItem('selectedLanguage') || 'en';
            
            // Set initial HTML attributes immediately
            document.documentElement.lang = savedLang;
            document.documentElement.dir = savedLang === 'ar' ? 'rtl' : 'ltr';
            
            // Add body classes for styling
            document.documentElement.classList.add('initial-lang-' + savedLang);
            
            // Hide content initially if Arabic to prevent flash
            if (savedLang === 'ar') {
                document.documentElement.style.opacity = '0';
                document.documentElement.style.transition = 'opacity 0.2s ease';
            }
        })();
    </script>
</head>
<body class="bg-stone-50 text-stone-800">
    <!-- Demo Warning Banner -->
    <div class="bg-amber-100 border-b border-amber-200 text-amber-800 text-center py-2 text-sm font-medium">
        <span class="en-content">‚ö†Ô∏è This is a demo website owned by <a href="https://www.dacsoapp.com" target="_blank" class="underline hover:text-amber-900">dacsoapp.com</a> - For presentation purposes only</span>
        <span class="ar-content">‚ö†Ô∏è Ÿáÿ∞ÿß ŸÖŸàŸÇÿπ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä ŸÖŸÖŸÑŸàŸÉ ŸÑŸÄ <a href="https://www.dacsoapp.com" target="_blank" class="underline hover:text-amber-900">dacsoapp.com</a> - ŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿπÿ±ÿ∂ ŸÅŸÇÿ∑</span>
    </div>
    
    <!-- Promo Banner -->
    <div id="promo-banner" class="bg-luxe-amber text-white text-center py-2 text-sm font-medium relative">
        <span class="en-content">‚ú® Free Shipping on Orders Above ¬£100</span>
        <span class="ar-content">‚ú® ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä ŸÑŸÑÿ∑ŸÑÿ®ÿßÿ™ ŸÅŸàŸÇ 100 ÿ¨ŸÜŸäŸá ÿ•ÿ≥ÿ™ÿ±ŸÑŸäŸÜŸä</span>
        <button onclick="closePromoBanner()" class="absolute right-4 top-1/2 transform -translate-y-1/2 hover:bg-white/20 rounded-full p-1">
            <i class="fas fa-times text-xs"></i>
        </button>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-luxe-amber">LuxeGlow</a>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                        <span class="en-content">Home</span>
                        <span class="ar-content">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</span>
                    </a>
                    <a href="shop.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                        <span class="en-content">Shop</span>
                        <span class="ar-content">ÿßŸÑŸÖÿ™ÿ¨ÿ±</span>
                    </a>
                    <a href="about.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                        <span class="en-content">About</span>
                        <span class="ar-content">ŸÖŸÜ ŸÜÿ≠ŸÜ</span>
                    </a>
                    <a href="contact.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                        <span class="en-content">Contact</span>
                        <span class="ar-content">ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß</span>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Language Toggle -->
                    <button id="lang-toggle-btn" class="text-luxe-stone hover:text-luxe-amber transition-colors flex items-center space-x-2 px-3 py-2 rounded-lg border border-stone-200 hover:border-luxe-amber">
                        <i class="fas fa-globe text-lg"></i>
                        <span id="current-lang" class="text-sm font-medium">AR</span>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden text-luxe-stone hover:text-luxe-amber transition-colors">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    
                    <!-- Search -->
                    <div class="relative">
                        <button onclick="toggleSearch()" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                            <i class="fas fa-search text-lg"></i>
                        </button>
                        <div id="search-overlay" class="fixed inset-0 bg-black/50 z-50 hidden search-overlay">
                            <div class="flex items-center justify-center min-h-screen p-4">
                                <div class="bg-white rounded-xl p-6 w-full max-w-2xl">
                                    <div class="flex items-center space-x-4">
                                        <input type="text" id="search-input" placeholder="Search products..." class="en-content flex-1 px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-luxe-amber focus:outline-none"
                                               onkeyup="searchProducts(event)">
                                        <input type="text" id="search-input-ar" placeholder="ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™..." class="ar-content flex-1 px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-luxe-amber focus:outline-none"
                                               onkeyup="searchProducts(event)">
                                        <button onclick="toggleSearch()" class="text-stone-400 hover:text-stone-600">
                                            <i class="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                    <div id="search-results" class="mt-4 max-h-64 overflow-y-auto">
                                        <!-- Search results will appear here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wishlist -->
                    <button class="text-luxe-stone hover:text-luxe-amber transition-colors relative" onclick="toggleWishlist()">
                        <i class="fas fa-heart text-lg wishlist-icon"></i>
                        <span class="wishlist-count absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-badge hidden">0</span>
                    </button>
                    
                    <!-- Cart -->
                    <button class="text-luxe-stone hover:text-luxe-amber transition-colors relative" onclick="toggleCart()">
                        <i class="fas fa-shopping-bag text-lg"></i>
                        <span class="cart-count absolute -top-2 -right-2 bg-luxe-amber text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-badge hidden">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-white z-50 transform -translate-x-full transition-transform duration-300 md:hidden">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-luxe-amber" data-translate-key="mobile_menu_title">Menu</h2>
                <button id="mobile-menu-close" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <nav class="space-y-6">
                <a href="index.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_home">Home</a>
                <a href="shop.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_shop">Shop</a>
                <a href="about.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_about">About</a>
                <a href="contact.html" class="block text-xl font-semibold text-luxe-stone hover:text-luxe-amber transition-colors" data-translate-key="nav_contact">Contact</a>
            </nav>
        </div>
    </div>

    <!-- Page Header -->
    <section class="py-8 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-luxe-stone" data-translate-key="cart_title">Shopping Cart</h1>
                    <p class="text-stone-600 mt-2" data-translate-key="cart_subtitle">Review your items before checkout</p>
                </div>
                <a href="shop.html" class="text-luxe-amber hover:text-amber-900 font-semibold" data-translate-key="cart_continue_shopping">
                    <i class="fas fa-arrow-left mr-2"></i>Continue Shopping
                </a>
            </div>
        </div>
    </section>

    <!-- Cart Content -->
    <section class="py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="cart-content">
                <!-- Cart items will be populated here -->
            </div>
        </div>
    </section>

    <!-- Newsletter Signup -->
    <section class="py-16 bg-luxe-stone">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-white mb-4" data-translate-key="cart_newsletter_title">Stay Glowing</h2>
            <p class="text-stone-300 mb-8" data-translate-key="cart_newsletter_subtitle">Get exclusive skincare tips and early access to new products</p>
            <form class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto" onsubmit="subscribeNewsletter(event)">
                <input type="email" 
                       placeholder="Enter your email" 
                       data-translate-key="cart_newsletter_placeholder"
                       class="flex-1 px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-luxe-amber focus:outline-none"
                       required>
                <button type="submit" 
                        class="bg-luxe-amber text-white px-6 py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors"
                        data-translate-key="cart_newsletter_button">
                    Subscribe
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-warm-100 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold text-luxe-amber mb-4">LuxeGlow</h3>
                    <p class="text-stone-600 mb-4">
                        <span class="en-content">Premium skincare for radiant, healthy skin. Crafted with love and the finest ingredients.</span>
                        <span class="ar-content">ÿπŸÜÿßŸäÿ© ŸÖÿ™ŸÖŸäÿ≤ÿ© ÿ®ÿßŸÑÿ®ÿ¥ÿ±ÿ© ŸÑÿ®ÿ¥ÿ±ÿ© ŸÖÿ¥ÿ±ŸÇÿ© Ÿàÿµÿ≠Ÿäÿ©. ŸÖÿµŸÜŸàÿπÿ© ÿ®ÿ≠ÿ® Ÿàÿ®ÿ£ÿ¨ŸàÿØ ÿßŸÑŸÖŸÉŸàŸÜÿßÿ™.</span>
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="#" class="text-stone-400 hover:text-luxe-amber transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">
                        <span class="en-content">Quick Links</span>
                        <span class="ar-content">ÿ±Ÿàÿßÿ®ÿ∑ ÿ≥ÿ±Ÿäÿπÿ©</span>
                    </h4>
                    <ul class="space-y-2">
                        <li><a href="shop.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                            <span class="en-content">Shop</span>
                            <span class="ar-content">ÿßŸÑŸÖÿ™ÿ¨ÿ±</span>
                        </a></li>
                        <li><a href="about.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                            <span class="en-content">About</span>
                            <span class="ar-content">ŸÖŸÜ ŸÜÿ≠ŸÜ</span>
                        </a></li>
                        <li><a href="contact.html" class="text-luxe-stone hover:text-luxe-amber transition-colors">
                            <span class="en-content">Contact</span>
                            <span class="ar-content">ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß</span>
                        </a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">
                            <span class="en-content">Shipping</span>
                            <span class="ar-content">ÿßŸÑÿ¥ÿ≠ŸÜ</span>
                        </a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">
                        <span class="en-content">Customer Care</span>
                        <span class="ar-content">ÿÆÿØŸÖÿ© ÿßŸÑÿπŸÖŸÑÿßÿ°</span>
                    </h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">
                            <span class="en-content">FAQ</span>
                            <span class="ar-content">ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ¥ÿßÿ¶ÿπÿ©</span>
                        </a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">
                            <span class="en-content">Returns</span>
                            <span class="ar-content">ÿßŸÑÿ•ÿ±ÿ¨ÿßÿπ</span>
                        </a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">
                            <span class="en-content">Size Guide</span>
                            <span class="ar-content">ÿØŸÑŸäŸÑ ÿßŸÑŸÖŸÇÿßÿ≥ÿßÿ™</span>
                        </a></li>
                        <li><a href="#" class="text-stone-600 hover:text-luxe-amber transition-colors">
                            <span class="en-content">Track Order</span>
                            <span class="ar-content">ÿ™ÿ™ÿ®ÿπ ÿßŸÑÿ∑ŸÑÿ®</span>
                        </a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">
                        <span class="en-content">Contact Info</span>
                        <span class="ar-content">ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™ŸàÿßÿµŸÑ</span>
                    </h4>
                    <ul class="space-y-2 text-stone-600">
                        <li>üìß hello@luxeglow.com</li>
                        <li>üìû +44 20 7123 4567</li>
                        <li>üìç London, UK</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-stone-200 mt-8 pt-8 text-center text-stone-600">
                <p>
                    <span class="en-content">&copy; 2024 LuxeGlow. All rights reserved. Demo owned by <a href="https://www.dacsoapp.com" target="_blank" class="text-luxe-amber hover:underline">dacsoapp.com</a></span>
                    <span class="ar-content">&copy; 2024 LuxeGlow. ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©. ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿä ŸÖŸÖŸÑŸàŸÉ ŸÑŸÄ <a href="https://www.dacsoapp.com" target="_blank" class="text-luxe-amber hover:underline">dacsoapp.com</a></span>
                </p>
                <p class="text-xs mt-2 text-stone-500">
                    <span class="en-content">This is a demonstration website for presentation purposes only. Not for commercial reproduction.</span>
                    <span class="ar-content">Ÿáÿ∞ÿß ŸÖŸàŸÇÿπ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä ŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿπÿ±ÿ∂ ŸÅŸÇÿ∑. ŸÑŸäÿ≥ ŸÑŸÑÿßÿ≥ÿ™ŸÜÿ≥ÿßÿÆ ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿä.</span>
                </p>
            </div>
        </div>
    </footer>

    <script>
        function renderCart() {
            const cart = getStorage(CART_KEY);
            const cartContent = document.getElementById('cart-content');
            
            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="text-center py-16">
                        <div class="w-24 h-24 bg-stone-200 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-shopping-bag text-4xl text-stone-400"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-stone-600 mb-4" data-translate-key="cart_empty">Your cart is empty</h2>
                        <p class="text-stone-500 mb-8" data-translate-key="cart_empty_message">Looks like you haven't added any items to your cart yet.</p>
                        <a href="shop.html" class="inline-block bg-luxe-amber text-white px-8 py-4 rounded-lg font-semibold hover:bg-amber-900 transition-colors" data-translate-key="cart_start_shopping">
                            Start Shopping
                        </a>
                    </div>
                `;
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + item.price, 0);
            const shipping = subtotal >= 100 ? 0 : 8.99;
            const total = subtotal + shipping;

            cartContent.innerHTML = `
                <div class="grid lg:grid-cols-3 gap-8">
                    <!-- Cart Items -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                            <div class="p-6 border-b border-stone-200">
                                <h2 class="text-xl font-bold">Cart Items (${cart.length})</h2>
                            </div>
                            <div class="divide-y divide-stone-200">
                                ${cart.map((item, index) => `
                                    <div class="p-6">
                                        <div class="flex items-center space-x-4">
                                            <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-lg">
                                            <div class="flex-1">
                                                <h3 class="font-semibold text-lg mb-2">${item.name}</h3>
                                                <p class="text-stone-600 text-sm mb-3">Premium skincare for radiant, healthy skin</p>
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-stone-600" data-translate-key="cart_quantity">Quantity:</span>
                                                        <div class="flex items-center border border-stone-300 rounded-lg">
                                                            <button onclick="updateQuantity(${index}, -1)" class="quantity-btn px-3 py-2 hover:bg-stone-100">
                                                                <i class="fas fa-minus text-sm"></i>
                                                            </button>
                                                            <span class="px-4 py-2 border-x border-stone-300 min-w-[3rem] text-center">${item.qty}</span>
                                                            <button onclick="updateQuantity(${index}, 1)" class="quantity-btn px-3 py-2 hover:bg-stone-100">
                                                                <i class="fas fa-plus text-sm"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-xl font-bold text-luxe-amber">¬£${item.price}</div>
                                                        <button onclick="removeItem(${index})" class="text-stone-400 hover:text-red-500 text-sm mt-1" data-translate-key="cart_remove">
                                                            <i class="fas fa-trash mr-1"></i>Remove
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                            <h2 class="text-xl font-bold mb-6" data-translate-key="cart_order_summary">Order Summary</h2>
                            
                            <div class="space-y-4 mb-6">
                                <div class="flex justify-between">
                                    <span class="text-stone-600" data-translate-key="cart_subtotal">Subtotal</span>
                                    <span class="font-semibold">¬£${subtotal.toFixed(2)}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-stone-600" data-translate-key="cart_shipping">Shipping</span>
                                    <span class="font-semibold ${shipping === 0 ? 'text-green-600' : ''}">
                                        ${shipping === 0 ? 'FREE' : `¬£${shipping.toFixed(2)}`}
                                    </span>
                                </div>
                                ${shipping > 0 ? `
                                    <div class="text-sm text-stone-500 bg-amber-50 p-3 rounded-lg">
                                        <i class="fas fa-info-circle mr-2"></i>
                                        <span data-translate-key="cart_add_more">Add ¬£${(100 - subtotal).toFixed(2)} more for free shipping</span>
                                    </div>
                                ` : `
                                    <div class="text-sm text-green-600 bg-green-50 p-3 rounded-lg">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        <span data-translate-key="cart_free_shipping">You qualify for free shipping!</span>
                                    </div>
                                `}
                                <div class="border-t border-stone-200 pt-4">
                                    <div class="flex justify-between text-lg font-bold">
                                        <span data-translate-key="cart_total">Total</span>
                                        <span class="text-luxe-amber">¬£${total.toFixed(2)}</span>
                                    </div>
                                </div>
                            </div>

                            <button onclick="proceedToCheckout()" class="w-full bg-luxe-amber text-white py-4 rounded-lg font-semibold text-lg hover:bg-amber-900 transition-colors mb-4" data-translate-key="cart_proceed_checkout">
                                Proceed to Checkout
                            </button>
                            
                            <div class="text-center">
                                <p class="text-stone-500 text-sm mb-3" data-translate-key="cart_secure_checkout">Secure checkout with</p>
                                <div class="flex justify-center space-x-4 opacity-60">
                                    <div class="text-lg font-bold text-blue-600">VISA</div>
                                    <div class="text-lg font-bold text-red-600">MC</div>
                                    <div class="text-lg font-bold text-blue-500">PayPal</div>
                                    <div class="text-lg font-bold text-gray-800">Apple</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateQuantity(index, change) {
            const cart = getStorage(CART_KEY);
            if (index < 0 || index >= cart.length) {
                console.error('Invalid cart item index:', index);
                return;
            }
            
            const item = cart[index];
            const newQuantity = item.qty + change;
            
            if (newQuantity <= 0) {
                removeItem(index);
                return;
            }
            
            // Prevent extremely high quantities (max 99)
            if (newQuantity > 99) {
                alert('Maximum quantity per item is 99');
                return;
            }
            
            // Calculate unit price from current total price and quantity
            const unitPrice = item.price / item.qty;
            
            // Update quantity and recalculate total price
            item.qty = newQuantity;
            item.price = unitPrice * newQuantity;
            
            setStorage(CART_KEY, cart);
            updateCartUI();
            renderCart();
        }

        function removeItem(index) {
            const cart = getStorage(CART_KEY);
            cart.splice(index, 1);
            setStorage(CART_KEY, cart);
            updateCartUI();
            renderCart();
        }

        function proceedToCheckout() {
            const cart = getStorage(CART_KEY);
            if (cart.length === 0) {
                alert(languageContent[currentLanguage]?.cart_empty_alert || 'Your cart is empty!');
                return;
            }
            window.location.href = 'checkout.html';
        }

        function subscribeNewsletter(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value;
            alert('Thank you for subscribing! You\'ll receive our latest skincare tips and exclusive offers.');
            event.target.reset();
        }

        function closePromoBanner() {
            const banner = document.getElementById('promo-banner');
            if (banner) {
                banner.style.display = 'none';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCartUI();
            renderCart();
        });
    </script>
    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">
                    <span class="en-content">Shopping Cart</span>
                    <span class="ar-content">ÿ≥ŸÑÿ© ÿßŸÑÿ™ÿ≥ŸàŸÇ</span>
                </h2>
                <button onclick="toggleCart()" class="text-stone-400 hover:text-stone-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cart-items" class="space-y-4 mb-6 max-h-96 overflow-y-auto">
                <!-- Cart items will be populated here -->
            </div>
            <div class="border-t border-stone-200 pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-semibold">
                        <span class="en-content">Total:</span>
                        <span class="ar-content">ÿßŸÑŸÖÿ¨ŸÖŸàÿπ:</span>
                    </span>
                    <span id="cart-total" class="text-xl font-bold text-luxe-amber">¬£0.00</span>
                </div>
                <a href="cart.html" class="block w-full bg-luxe-amber text-white text-center py-3 rounded-lg font-semibold hover:bg-amber-900 transition-colors">
                    <span class="en-content">View Cart</span>
                    <span class="ar-content">ÿπÿ±ÿ∂ ÿßŸÑÿ≥ŸÑÿ©</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Wishlist Sidebar -->
    <div id="wishlist-sidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">
                    <span class="en-content">Wishlist</span>
                    <span class="ar-content">ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ£ŸÖŸÜŸäÿßÿ™</span>
                </h2>
                <button onclick="toggleWishlist()" class="text-stone-400 hover:text-stone-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="wishlist-items" class="space-y-4 mb-6 max-h-96 overflow-y-auto">
                <!-- Wishlist items will be populated here -->
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="toggleCart()"></div>

    <!-- Notification System -->
    <div id="notification" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 notification" style="opacity: 0; transform: translateX(100%); transition: all 0.3s ease;">
        <div class="flex items-center space-x-2">
            <i class="fas fa-check"></i>
            <span id="notification-text">Item added to cart!</span>
        </div>
    </div>

    <script src="temp_js.js"></script>
    
    <!-- Language Support Scripts -->
    <script src="js/translations.js"></script>
    <script src="js/language-switcher.js"></script>
</body>
</html>
